<div class="row">
  <div class="col-sm">
    <h4>Agregar Productos</h4>
  </div>
</div>
<form [formGroup]="productForm">
  <div class="jumbotron col-sm-8" style="margin:auto">
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label">Nombre</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="name">
        <div *ngIf="formSubmitted && productForm.get('name').errors"  class="invalid-error">
          <div *ngIf="productForm.get('name').errors.required">Debe ingresar un nombre!</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label">Código</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="code">
        <div *ngIf="formSubmitted && productForm.get('code').errors"  class="invalid-error">
          <div *ngIf="productForm.get('code').errors.required">Debe ingresar un código!</div>
        </div>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label">Categoria</label>
      <div class="col-sm-10">
        <select name="" id="" class="form-control"  formControlName="category">
            <option value="" *ngFor="let category of categories | async" 
            [value]="category.code" >{{category.name}}</option>
        </select>
        <div *ngIf="formSubmitted && productForm.get('category').errors"  class="invalid-error">
          <div *ngIf="productForm.get('category').errors.required">Debe ingresar una categoría.</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label">Unidad</label>
      <div class="col-sm-10">
        <select name="" id="" class="form-control"  formControlName="unit">
            <option *ngFor="let unit of units | async" [value]="unit.code">{{unit.name}}</option>
        </select>
        <div *ngIf="formSubmitted && productForm.get('unit').errors"  class="invalid-error">
          <div *ngIf="productForm.get('unit').errors.required">Debe ingresar una Unidad de Medida</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label">Precio</label>
      <div class="col-sm-4">
        <input type="text" appNumberonly class="form-control"   formControlName="purchaseRate">
        <div *ngIf="formSubmitted && productForm.get('purchaseRate').errors"  class="invalid-error">
          <div *ngIf="productForm.get('purchaseRate').errors.required">Debe ingresar un precio</div>
        </div>
      </div>
      <label for="" class="col-sm-2 col-form-label">En Quetzales</label>

    </div>
    <div class="form-group row">&nbsp;</div>
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label">&nbsp;</label>
      <div class="col-sm-10">
          <button type="button" class="btn btn-success fa fa-floppy-o" (click)="save($event)" >&nbsp;Guardar</button>&nbsp;
          <button type="button" class="btn btn-light fa fa-ban" routerLink='/products'>&nbsp;Cancelar</button>
      </div>
    </div>
  </div>
</form>